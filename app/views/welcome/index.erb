<h1>ConnectHealth</h1>

<h3>Prototipo Inicial</h3>

<label ></label>

<div id="myholder" style="background-color: #1E3E4A"></div>

<script type="text/javascript">
    var graph = new joint.dia.Graph;

    var paper = new joint.dia.Paper({
        el: $('#myholder'),
        width: window.innerWidth,
        height: 400,
        model: graph
    });
</script>

<form>
  <input name="text_box_nombre_paciente" placeholder="Ingrese nombre de paciente" type="text"/>
  <button type="submit">Consultar</button>
</form>


<script type="text/javascript">
    var nodo = [];
</script>
<p><b>Pacientes</b> </br>
<%

   # puts pacientes.as_json
  @pacientes["data"].each_with_index do |persona,index|
  nombre_paciente = persona[0]["data"]["nombre"]
%>
<script type="text/javascript">
    nodo[<%=index%>] =  new joint.shapes.basic.Circle({
        position: { x: 100 + 50 * <%=index%>, y: 30 + 50 * <%=index%> },
        attrs: { circle: { fill: '#2ECC71' }, text: { text: '<%=nombre_paciente%>', fill: 'white' } }
    });
</script>
<%="Nombre: " + nombre_paciente%></br>

<%
end
%>

</p>
<script type="text/javascript">
    graph.addCells(nodo);
</script>

<form accept-charset="UTF-8" action="/" method="post">
  <input name="text_box_nombre_a_borrar" placeholder="Nombre" type="text"/>
  <button type="submit">Borrar</button>
</form>